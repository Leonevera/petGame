{"version":3,"sources":["..\\..\\..\\..\\assets\\main/assets\\main\\main.js"],"names":["GlobalData","require","cc","Class","extends","Component","properties","profile","Sprite","pet","shop","tripBtn","workBtn","homeBtn","hunger","get","_hunger","set","value","hungerCeiling","_hungerCeiling","cleaness","_cleaness","cleanessCeiling","_cleanessCeiling","thirst","_thirst","thirstCeiling","_thirstCeiling","mood","_mood","moodCeiling","_moodCeiling","energy","_energy","energyCeiling","_energyCeiling","growth","_growth","growthLevel","_growthLevel","coin","_coin","_isFunctionShow","_isBagShow","_isSleepSettingShow","_isWorkSettingShow","_isTripSettingShow","_isPlaySettingShow","_isClockShow","_isLoginRewardShow","_isContLoginRewardShow","_isRandomRewardShow","__isRandomRewardShow","_isUpgradeRewardShow","__isUpgradeRewardShow","timeIndex","workTypeID","workTimeID","tripLocID","tripTimeID","sleepTimeID","genLoginReward","date","Date","year","getFullYear","month","getMonth","dat","getDate","hour","getHours","minute","getMinutes","second","getSeconds","timeStr","serverAddr","instance","$","ajax","url","type","dataType","json","data","userID","genTime","rewardCategoryID","rewardLevel","success","res","console","log","loginRewardCoin","rewardCoin","loginRewardGrowth","rewardGrowth","genContLoginReward","contLoginDays","contLoginRewardCoin","contLoginRewardGrowth","login","flagContLoginReward","flagLoginReward","wx","js_code","code","flagLocation","loginTime","flagNewUser","Number","director","loadScene","queryAttribute","init","sprite","species","loader","loadRes","SpriteFrame","err","sp","node","spriteFrame","flagRandomReward","flagUpgradeReward","exit","onPlusBtnClicked","showFunction","actionShop","actionWork","actionTravel","spawn","moveBy","v2","fadeOut","fadeIn","travel","runAction","work","onLoad","start","bindEnter","e","detail","userInfo","userGender","gender","userName","nickName","showModal","title","content","confirm","openSetting","getSetting","authSetting","settingdata","cancel","lastLoginTime","name","color","flagAgeGroup","flagSkipping","flagStory","flagSleep","sleepRemainTime","flagWork","workRemainTime","flagTrip","tripRemainTime","flagBgMusic","bgMusicVolume","bgMusicNum","bgPicNum","flagSound","soundVolume","flagNotice","flagVibration","bag","itemIDArrayStr","itemIDArray","itemNameArrayStr","itemNameArray","categoryIDArrayStr","categoryIDArray","categoryNameArrayStr","categoryNameArray","numberArrayStr","numberArray","categoryArray","flagEnableArrayStr","flagEnableArray","onClickGetReward","details","toString","rewardItemID","rewardItemCateID","upgradeRewardCoin","upgradeRewardItemID","upgradeRewardItemCateID","randomRewardItemID","randomRewardItemCateID","getTime","onClickEatBtn","onClickFood","foodID","operationTime","onClickShowerBtn","onClickShowerTool","toolID","bathToolID","onClickDrinkBtn","onClickPlayBtn","onClickSubPlayBtn","playID","startCountDown","operationName","time","question","answer","picAddr","onClickWorkBtn","promptStr","alert","onClickWorkTypeBtn","onClickWorkTimeBtn","onClickConfirmWork","onClickTripBtn","onClickTripLocBtn","onClickTripTimeBtn","onClickConfirmTrip","onClickSleepBtn","onClickSleepTimeBtn","onClickConfirmSleep","onClickHomeBtn","onClickSettingBtn","onClickShopBtn","onClickUserInfoBtn"],"mappings":"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","file":"main.js","sourceRoot":"..\\..\\..\\..\\assets\\main","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nvar GlobalData = require('globalData');\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        profile: cc.Sprite,\r\n        pet: cc.Sprite,\r\n        shop: cc.Sprite,\r\n        tripBtn: cc.Sprite,\r\n        workBtn: cc.Sprite,\r\n        homeBtn: cc.Sprite,\r\n\r\n        //以下为页面中需要展示的值\r\n        hunger:{ // 饥饿值\r\n            get () {\r\n                return this._hunger;\r\n            },\r\n            set (value) {\r\n                this._hunger = value;\r\n            }\r\n        },\r\n        hungerCeiling:{ // 饥饿值上限\r\n            get () {\r\n                return this._hungerCeiling;\r\n            },\r\n            set (value) {\r\n                this._hungerCeiling = value;\r\n            }\r\n        },\r\n        cleaness:{ // 清洁值\r\n            get () {\r\n                return this._cleaness;\r\n            },\r\n            set (value) {\r\n                this._cleaness = value;\r\n            }\r\n        },\r\n        cleanessCeiling:{ // 清洁值上限\r\n            get () {\r\n                return this._cleanessCeiling;\r\n            },\r\n            set (value) {\r\n                this._cleanessCeiling = value;\r\n            }\r\n        },\r\n        thirst:{ // 口渴值\r\n            get () {\r\n                return this._thirst;\r\n            },\r\n            set (value) {\r\n                this._thirst = value;\r\n            }\r\n        },\r\n        thirstCeiling:{ // 口渴值上限\r\n            get () {\r\n                return this._thirstCeiling;\r\n            },\r\n            set (value) {\r\n                this._thirstCeiling = value;\r\n            }\r\n        },\r\n        mood:{ // 心情值\r\n            get () {\r\n                return this._mood;\r\n            },\r\n            set (value) {\r\n                this._mood = value;\r\n            }\r\n        },\r\n        moodCeiling:{ // 心情值上限\r\n            get () {\r\n                return this._moodCeiling;\r\n            },\r\n            set (value) {\r\n                this._moodCeiling = value;\r\n            }\r\n        },\r\n        energy:{ // 能量值\r\n            get () {\r\n                return this._energy;\r\n            },\r\n            set (value) {\r\n                this._energy = value;\r\n            }\r\n        },\r\n        energyCeiling:{ // 能量值上限\r\n            get () {\r\n                return this._energyCeiling;\r\n            },\r\n            set (value) {\r\n                this._energyCeiling = value;\r\n            }\r\n        },\r\n        growth:{ // 成长值\r\n            get () {\r\n                return this._growth;\r\n            },\r\n            set (value) {\r\n                this._growth = value;\r\n            }\r\n        },\r\n        growthLevel:{ // 成长值等级\r\n            get () {\r\n                return this._growthLevel;\r\n            },\r\n            set (value) {\r\n                this._growthLevel = value;\r\n            }\r\n        },\r\n        coin:{ // 金币值\r\n            get () {\r\n                return this._coin;\r\n            },\r\n            set (value) {\r\n                this._coin = value;\r\n            }\r\n        },\r\n\r\n        _isFunctionShow: true,\r\n        //author:qll\r\n        //time:2019.12.4\r\n        _isBagShow : false,  //标志位_是否展示背包\r\n        _isSleepSettingShow : false, //标志位_是否展示睡觉设置框\r\n        _isWorkSettingShow : false,  //标志位_是否展示工作设置框\r\n        _isTripSettingShow : false,  //标志位_是否展示旅游设置框\r\n        _isPlaySettingShow : false,  //标志位_是否展示玩耍子操作框\r\n        _isClockShow : false,  //标志位_是否显示倒计时（用于睡觉、打工和旅游）\r\n        \r\n        _isLoginRewardShow : false,  //标志位_是否显示登录奖励\r\n        _isContLoginRewardShow : false,  //标志位_是否显示连续登录奖励\r\n        _isRandomRewardShow: {  //标志位_是否显示随机奖励\r\n            get () {\r\n                return this.__isRandomRewardShow;\r\n            },\r\n            set (value) {\r\n                this.__isRandomRewardShow = value;\r\n            }\r\n        },\r\n        _isUpgradeRewardShow:{  //标志位_是否显示升级奖励\r\n            get () {\r\n                return this.__isUpgradeRewardShow;\r\n            },\r\n            set (value) {\r\n                this.__isUpgradeRewardShow = value;\r\n            }\r\n        },\r\n        \r\n        timeIndex: [0, 30, 40, 50, 60],  //不同的时间ID对应的具体秒数（适用于旅游、打工和睡觉操作）P.S. ID0是无效的\r\n\r\n        workTypeID : 0,  //工种设置\r\n        workTimeID : 0,  //工时设置\r\n    \r\n        tripLocID: 0,  //旅游地点设置\r\n        tripTimeID: 0,  //旅游时长设置\r\n\r\n        sleepTimeID: 0,  //睡觉时间设置\r\n    },\r\n\r\n    //生成登录奖励\r\n    genLoginReward: function(){\r\n        let date = new Date();\r\n        let year = date.getFullYear(); //获取当前年份   \r\n        let month = date.getMonth() + 1; //获取当前月份   \r\n        let dat = date.getDate(); //获取当前日    \r\n        let hour = date.getHours(); //获取小时   \r\n        let minute = date.getMinutes(); //获取分钟   \r\n        let second = date.getSeconds(); //获取秒   \r\n        let timeStr = year + '-' + month + '-' + dat + ' ' + hour + ':' + minute + ':' + second;\r\n        var serverAddr = GlobalData.serverAddr + \"php/genReward.php\";\r\n        var instance = this;\r\n        $.ajax({\r\n            url: serverAddr,\r\n            type: 'POST',\r\n            dataType: json,\r\n            data: {\r\n                userID: GlobalData.userID,\r\n                genTime: timeStr,\r\n                rewardCategoryID: 1,\r\n                rewardLevel: 1,\r\n            },\r\n            success(res) {\r\n                console.log(res);\r\n                GlobalData.loginRewardCoin = res.rewardCoin;//奖励金币数\r\n                GlobalData.loginRewardGrowth = res.rewardGrowth;//奖励成长值\r\n                instance._isLoginRewardShow = true;\r\n            },\r\n        });\r\n    },\r\n\r\n    //生成连续登录奖励\r\n    genContLoginReward: function(){\r\n        let date = new Date();\r\n        let year = date.getFullYear(); //获取当前年份   \r\n        let month = date.getMonth() + 1; //获取当前月份   \r\n        let dat = date.getDate(); //获取当前日    \r\n        let hour = date.getHours(); //获取小时   \r\n        let minute = date.getMinutes(); //获取分钟   \r\n        let second = date.getSeconds(); //获取秒   \r\n        let timeStr = year + '-' + month + '-' + dat + ' ' + hour + ':' + minute + ':' + second;\r\n        var serverAddr = GlobalData.serverAddr + \"php/genReward.php\";\r\n        var instance = this;\r\n        $.ajax({\r\n            url: serverAddr,\r\n            type: 'POST',\r\n            dataType: json,\r\n            data: {\r\n                userID: GlobalData.userID,\r\n                genTime: timeStr,\r\n                rewardCategoryID: 2,\r\n                rewardLevel: GlobalData.contLoginDays,\r\n            },\r\n            success(res) {\r\n                console.log(res);\r\n                GlobalData.contLoginRewardCoin = res.rewardCoin;//奖励金币数\r\n                GlobalData.contLoginRewardGrowth = res.rewardGrowth;//奖励成长值\r\n                instance._isContLoginRewardShow = true;\r\n            },\r\n        });\r\n    },\r\n\r\n    /* 登录函数\r\n    需要微信接口，测试时可以先注释掉\r\n  author: qll\r\n  time: 2019/12/2\r\n    */\r\n    login: function() {  \r\n        var flagContLoginReward = 0; \r\n        var flagLoginReward = 0; \r\n        wx.login({\r\n            success: res => {\r\n                // 发送 res.code 到后台并收取生成的userID，\r\n                let js_code = res.code;\r\n                console.log(js_code);\r\n                let date = new Date();\r\n                let year = date.getFullYear(); //获取当前年份   \r\n                let month = date.getMonth() + 1; //获取当前月份   \r\n                let dat = date.getDate(); //获取当前日    \r\n                let hour = date.getHours(); //获取小时   \r\n                let minute = date.getMinutes(); //获取分钟   \r\n                let second = date.getSeconds(); //获取秒   \r\n                let timeStr = year + '-' + month + '-' + dat + ' ' + hour + ':' + minute + ':' + second;\r\n                let flagLocation = GlobalData.flagLocation;\r\n                let serverAddr = GlobalData.serverAddr + \"php/login.php\";\r\n                $.ajax({\r\n                    url: serverAddr,\r\n                    type: 'POST',\r\n                    dataType: json,\r\n                    data: {\r\n                        js_code: js_code,\r\n                        loginTime: timeStr,\r\n                        flagLocation: flagLocation,\r\n                    },\r\n                    success(res) {\r\n                        console.log(res);\r\n                        GlobalData.userID = res.userID;\r\n                        GlobalData.flagNewUser = Number(res.flagNewUser);\r\n                        GlobalData.contLoginDays = Number(res.contLoginDays);\r\n                        flagContLoginReward = Number(res.flagContLoginReward);\r\n                        flagLoginReward = Number(res.flagLoginReward);\r\n                    },\r\n                });\r\n            }\r\n        })\r\n        console.log('登录完成'); \r\n        \r\n        if (GlobalData.flagNewUser == 1)//新用户，跳到领养界面\r\n        {\r\n            cc.director.loadScene(\"adopt\");\r\n        }\r\n        else   //老用户，查询属性信息，恢复场景，生成奖励\r\n        {\r\n            this.queryAttribute();\r\n            if(flagLoginReward == 1){\r\n                this.genLoginReward();\r\n            }\r\n            if(flagContLoginReward == 1){\r\n                this.genContLoginReward();\r\n            }\r\n        }\r\n    },\r\n\r\n    init: function() {   //进入该页面时调用此函数\r\n        // 初始化宠物形象\r\n        let sprite = this.pet;\r\n        if (GlobalData.species == 0) {\r\n            cc.loader.loadRes(\"owl-simple\", cc.SpriteFrame, (err, sp) => {\r\n                console.log(err);\r\n                if (err) return;\r\n                if (this.node) {\r\n                    console.log(\"success\");\r\n                    if(sprite){\r\n                        sprite.spriteFrame = sp;\r\n                    }\r\n                }\r\n            })\r\n        } else if (GlobalData.species == 1) {\r\n            cc.loader.loadRes(\"penguin-simple\", cc.SpriteFrame, (err, sp) => {\r\n                console.log(err);\r\n                if (err) return;\r\n                if (this.node) {\r\n                    console.log(\"success\");\r\n                    if(sprite){\r\n                        sprite.spriteFrame = sp;\r\n                    }\r\n                }\r\n            })\r\n        } else if (GlobalData.species == 2) {\r\n            cc.loader.loadRes(\"cat-simple\", cc.SpriteFrame, (err, sp) => {\r\n                console.log(err);\r\n                if (err) return;\r\n                if (this.node) {\r\n                    console.log(\"success\");\r\n                    if(sprite){\r\n                        sprite.spriteFrame = sp;\r\n                    }\r\n                }\r\n            })\r\n        } else if (GlobalData.species == 3) {\r\n            cc.loader.loadRes(\"dog-simple\", cc.SpriteFrame, (err, sp) => {\r\n                console.log(err);\r\n                if (err) return;\r\n                if (this.node) {\r\n                    console.log(\"success\");\r\n                    if(sprite){\r\n                        sprite.spriteFrame = sp;\r\n                    }\r\n                }\r\n            })\r\n        }  \r\n        //初始化宠物属性值\r\n        this.hunger = GlobalData.hunger;  // 饥饿值\r\n        this.hungerCeiling = GlobalData.hungerCeiling;  // 饥饿值上限\r\n        this.cleaness = GlobalData.cleaness; // 清洁值\r\n        this.cleanessCeiling = GlobalData.cleanessCeiling;  // 清洁值上限\r\n        this.thirst = GlobalData.thirst; // 口渴值\r\n        this.thirstCeiling = GlobalData.thirstCeiling;  // 口渴值上限\r\n        this.mood = GlobalData.mood; // 心情值\r\n        this.moodCeiling = GlobalData.moodCeiling;  // 心情值上限\r\n        this.energy = GlobalData.energy; // 能量值\r\n        this.energyCeiling = GlobalData.energyCeiling;  // 能量值上限\r\n        this.growth = GlobalData.growth; // 成长值\r\n        this.growthLevel = GlobalData.growthLevel; // 成长值等级\r\n        this.coin = GlobalData.coin; // 金币值\r\n        //检查是否有奖励生成（仅限随机和升级）\r\n        this._isRandomRewardShow = GlobalData.flagRandomReward;  //如果为true，在主界面某处出现随机奖励\r\n        this._isUpgradeRewardShow = GlobalData.flagUpgradeReward;  //如果为true，弹出升级奖励框\r\n    },\r\n\r\n    exit: function(){  //退出该页面时调用此函数\r\n        \r\n    },\r\n\r\n    onPlusBtnClicked: function() {\r\n        this.showFunction();\r\n    },\r\n\r\n    showFunction: function() {\r\n        this._isFunctionShow = !this._isFunctionShow;\r\n        let actionShop = null;\r\n        let actionWork = null;\r\n        let actionTravel = null;\r\n        if (this._isFunctionShow) {\r\n            actionTravel = cc.spawn(cc.moveBy(0.5, cc.v2(0, -94)), cc.fadeOut(0.5));\r\n            actionWork =  cc.spawn(cc.moveBy(0.6, cc.v2(0, -188)), cc.fadeOut(0.6));\r\n            actionShop = cc.spawn(cc.moveBy(0.7, cc.v2(0, -282)), cc.fadeOut(0.7));\r\n        } else {\r\n            actionTravel = cc.spawn(cc.moveBy(0.5, cc.v2(0, 94)), cc.fadeIn(0.5));\r\n            actionWork =  cc.spawn(cc.moveBy(0.6, cc.v2(0, 188)), cc.fadeIn(0.6));\r\n            actionShop = cc.spawn(cc.moveBy(0.7, cc.v2(0, 282)), cc.fadeIn(0.7));\r\n        }\r\n        this.travel.node.runAction(actionTravel);\r\n        this.work.node.runAction(actionWork);\r\n        this.shop.node.runAction(actionShop);\r\n    },\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        console.log(GlobalData);\r\n        this.init();\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    /**\r\n   * “进入游戏”按键所对应的事件处理函数，在用户的授权下获得并更新一些用户信息\r\n   * 需要微信接口，测试时可以先注释掉\r\n   * author: qll\r\n   * time: 2019/12/4\r\n   */\r\n  \r\n    bindEnter: function(e) {\r\n        var instance = this;\r\n        if (e.detail.userInfo) \r\n        {   //获得用户的微信账户信息\r\n            console.log(e.detail.userInfo);\r\n            GlobalData.userGender = e.detail.userInfo.gender;\r\n            GlobalData.userName = e.detail.userInfo.nickName;\r\n        } \r\n        else \r\n        {\r\n            wx.showModal({\r\n                title: '用户未授权',\r\n                content: '拒绝授权将不能体验小游戏完整功能，点击确定开启授权',\r\n                success: (res) => {\r\n                    console.log(res);\r\n                    if (res.confirm) {\r\n                        wx.openSetting({});\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        //询问用户是否授权位置信息（一个实际上不必要的授权，用来测试用户的安全意识）\r\n        wx.getSetting({\r\n            success(res) {\r\n                if (res.authSetting['scope.userLocation'] != true) \r\n                {\r\n                    wx.showModal({\r\n                        title: '定位授权',\r\n                        content: '萌宠物语请求获得您的位置信息，请确认授权',\r\n                        success: (res) => {\r\n                            console.log(res);\r\n                            if (res.confirm) \r\n                            {\r\n                                wx.openSetting({\r\n                                    success(settingdata) {\r\n                                        console.log(settingdata);\r\n                                        if (settingdata.authSetting['scope.userLocation']) \r\n                                        {\r\n                                            GlobalData.flagLocation = 1;\r\n                                            console.log(\"位置授权成功\");\r\n                                            instance.login();\r\n                                        } \r\n                                        else \r\n                                        {\r\n                                            GlobalData.flagLocation = 0;\r\n                                            console.log(\"取消位置授权\");\r\n                                            instance.login();\r\n                                        }\r\n                                    }\r\n                                })\r\n                            }\r\n                            if(res.cancel)\r\n                            {\r\n                                GlobalData.flagLocation = 0;\r\n                                console.log(\"位置授权失败\");\r\n                                instance.login();\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        }); \r\n    },\r\n  \r\n    queryAttribute: function (){\r\n        var serverAddr = GlobalData.serverAddr + \"php/queryUserAttribute.php\";\r\n        $.ajax({\r\n            url: serverAddr,\r\n            type: 'POST',\r\n            dataType: json,\r\n            data: {\r\n                userID: GlobalData.userID\r\n            },\r\n            success(res) {\r\n                console.log(res);\r\n                GlobalData.coin = res.coin;//金币值\r\n                GlobalData.title = res.title;//主人称呼\r\n            },\r\n        });\r\n        serverAddr = GlobalData.serverAddr + \"php/queryPetAttribute.php\";\r\n        $.ajax({\r\n            url: serverAddr,\r\n            type: 'POST',\r\n            dataType: json,\r\n            data: {\r\n                userID: GlobalData.userID\r\n            },\r\n            success(res) {\r\n                console.log(res);\r\n                GlobalData.lastLoginTime = res.lastLoginTime;//上一次登录时间\r\n                GlobalData.contLoginDays = res.contLoginDays; //连续登录天数\r\n                GlobalData.species = res.species;// 宠物种类\r\n                GlobalData.name = res.name;// 宠物名字\r\n                GlobalData.gender = res.gender;//  宠物性别\r\n                GlobalData.color = res.color;// 宠物毛色\r\n                GlobalData.hunger = res.hunger;// 宠物饥饿值\r\n                GlobalData.hungerCeiling = res.hungerCeiling;// 宠物饥饿值上限\r\n                GlobalData.cleaness = res.cleaness;// 宠物清洁值\r\n                GlobalData.cleanessCeiling = res.cleanessCeiling;// 宠物清洁值上限\r\n                GlobalData.thirst = res.thirst;// 宠物口渴值\r\n                GlobalData.thirstCeiling = res.thirstCeiling;// 宠物口渴值上限\r\n                GlobalData.mood = res.mood;// 宠物心情值\r\n                GlobalData.moodCeiling = res.moodCeiling;// 宠物心情值上限\r\n                GlobalData.energy = res.energy;// 宠物能量值\r\n                GlobalData.energyCeiling = res.energyCeiling;// 宠物能量值上限\r\n                GlobalData.growth = res.growth;// 宠物成长值\r\n                GlobalData.growthLevel = res.growthLevel;// 宠物成长等级\r\n                GlobalData.flagAgeGroup = res.flagAgeGroup;// 标志位：幼年or成年\r\n                GlobalData.flagSkipping = res.flagSkipping;//标志位_是否解锁“跳绳”操作\r\n                GlobalData.flagStory = res.flagStory;//标志位_是否解锁“讲故事”操作\r\n                GlobalData.flagSleep = res.flagSleep;//标志位-是否正在睡觉\r\n                GlobalData.sleepRemainTime = res.sleepRemainTime;//睡觉剩余时长\r\n                GlobalData.flagWork = res.flagWork;//标志位-是否正在打工\r\n                GlobalData.workRemainTime = res.workRemainTime;//打工剩余时长\r\n                GlobalData.flagTrip = res.flagTrip;//标志位-是否正在旅游\r\n                GlobalData.tripRemainTime = res.tripRemainTime;//旅游剩余时长\r\n            },\r\n        });\r\n        serverAddr = GlobalData.serverAddr + \"php/querySetting.php\";\r\n        $.ajax({\r\n            url: serverAddr,\r\n            type: 'POST',\r\n            dataType: json,\r\n            data: {\r\n                userID: GlobalData.userID\r\n            },\r\n            success(res) {\r\n                console.log(res);\r\n                GlobalData.flagBgMusic = res.flagBgMusic;//标志位_是否开启背景音乐\r\n                GlobalData.bgMusicVolume = res.bgMusicVolume;//背景音乐音量\r\n                GlobalData.bgMusicNum = res.bgMusicNum;//背景音乐曲目编号\r\n                GlobalData.bgPicNum = res.bgPicNum;//背景图片编号\r\n                GlobalData.flagSound = res.flagSound;//标志位_是否开启音效\r\n                GlobalData.soundVolume = res.soundVolume;//音效音量\r\n                GlobalData.flagNotice = res.flagNotice;//标志位_是否开启推送通知\r\n                GlobalData.flagLocation = res.flagLocation;//标志位_是否开启摄像头权限\r\n                GlobalData.flagVibration = res.flagVibration;//标志位_是否开启震动\r\n            },\r\n        });\r\n        serverAddr = GlobalData.serverAddr + \"php/queryBag.php\";\r\n        $.ajax({\r\n            url: serverAddr,\r\n            type: 'POST',\r\n            dataType: json,\r\n            data: {\r\n                userID: GlobalData.userID\r\n            },\r\n            success(res) {\r\n                console.log(res);\r\n                GlobalData.bag.itemIDArrayStr = res.itemIDArray;//物品ID数组\r\n                GlobalData.bag.itemNameArrayStr = res.itemNameArray;//物品名称数组（英文）\r\n                GlobalData.bag.categoryIDArrayStr = res.categoryIDArray;//物品类别ID数组\r\n                GlobalData.bag.categoryNameArrayStr = res.categoryNameArray;//物品类别名称数组\r\n                GlobalData.bag.numberArrayStr = res.numberArray;//物品数量数组\r\n            },\r\n        });\r\n        serverAddr = GlobalData.serverAddr + \"php/queryDecBag.php\";\r\n        $.ajax({\r\n            url: serverAddr,\r\n            type: 'POST',\r\n            dataType: json,\r\n            data: {\r\n                userID: GlobalData.userID\r\n            },\r\n            success(res) {\r\n                console.log(res);\r\n                GlobalData.bag.itemIDArrayStr = res.itemIDArray;//物品ID数组\r\n                GlobalData.bag.itemNameArrayStr = res.itemNameArray;//物品名称数组（英文）\r\n                GlobalData.bag.categoryIDArrayStr = res.categoryArray;//物品类别ID数组\r\n                GlobalData.bag.categoryNameArrayStr = res.categoryNameArray;//物品类别名称数组\r\n                GlobalData.bag.flagEnableArrayStr = res.flagEnableArray;//物品是否启用的标志位数组\r\n            },\r\n        });\r\n    },\r\n\r\n    //点击获取奖励\r\n    //参数说明：1：登录奖励；2：连续登录奖励；3：升级奖励；4：随机奖励\r\n    onClickGetReward: function(rewardCategoryID){\r\n        let date = new Date();\r\n        let year = date.getFullYear(); //获取当前年份   \r\n        let month = date.getMonth() + 1; //获取当前月份   \r\n        let dat = date.getDate(); //获取当前日    \r\n        let hour = date.getHours(); //获取小时   \r\n        let minute = date.getMinutes(); //获取分钟   \r\n        let second = date.getSeconds(); //获取秒   \r\n        let timeStr = year + '-' + month + '-' + dat + ' ' + hour + ':' + minute + ':' + second;\r\n        var serverAddr = GlobalData.serverAddr + \"php/getReward.php\";\r\n        var details = 'Category:' + rewardCategoryID.toString();\r\n        var rewardCoin = 0;\r\n        var rewardGrowth = 0;\r\n        var rewardItemID = 0;\r\n        var rewardItemCateID = 0;\r\n        if(rewardCategoryID == 1){  //登录奖励\r\n            rewardCoin = GlobalData.loginRewardCoin;\r\n            rewardGrowth = GlobalData.loginRewardGrowth;\r\n        }\r\n        else if(rewardCategoryID == 2){  //连续登录奖励\r\n            rewardCoin = GlobalData.contLoginRewardCoin;\r\n            rewardGrowth = GlobalData.contLoginRewardGrowth;\r\n        }\r\n        else if(rewardCategoryID == 3){  //升级奖励\r\n            rewardCoin = GlobalData.upgradeRewardCoin;\r\n            rewardItemID = GlobalData.upgradeRewardItemID;\r\n            rewardItemCateID = GlobalData.upgradeRewardItemCateID;\r\n        }\r\n        else{  //随机奖励\r\n            rewardItemID = GlobalData.randomRewardItemID;\r\n            rewardItemCateID = GlobalData.randomRewardItemCateID;\r\n        }\r\n        $.ajax({\r\n            url: serverAddr,\r\n            type: 'POST',\r\n            dataType: json,\r\n            data: {\r\n                userID: GlobalData.userID,\r\n                getTime: timeStr,\r\n                rewardCoin: rewardCoin,\r\n                rewardGrowth: rewardGrowth,\r\n                rewardItemID: rewardItemID,\r\n                rewardItemCateID: rewardItemCateID,\r\n                details: details,\r\n            },\r\n            success(res) {\r\n                console.log(res);\r\n            },\r\n        });\r\n    },\r\n\r\n    onClickEatBtn: function(){  //点击吃饭按钮\r\n        console.log(\"点击吃饭\");\r\n        this._isBagShow = true;  //显示背包\r\n    },\r\n\r\n    onClickFood: function(foodID){  //点击食物\r\n        let date = new Date();\r\n        let year = date.getFullYear(); //获取当前年份   \r\n        let month = date.getMonth() + 1; //获取当前月份   \r\n        let dat = date.getDate(); //获取当前日    \r\n        let hour = date.getHours(); //获取小时   \r\n        let minute = date.getMinutes(); //获取分钟   \r\n        let second = date.getSeconds(); //获取秒   \r\n        let timeStr = year + '-' + month + '-' + dat + ' ' + hour + ':' + minute + ':' + second;\r\n        var serverAddr = GlobalData.serverAddr + \"php/eat.php\";\r\n        let details = '';\r\n        $.ajax({\r\n            url: serverAddr,\r\n            type: 'POST',\r\n            dataType: json,\r\n            data: {\r\n                userID: GlobalData.userID,\r\n                operationTime: timeStr,\r\n                foodID: foodID,\r\n                details: details,\r\n            },\r\n            success(res) {\r\n                console.log(res);\r\n                //无需更新属性值，后台会自动更新\r\n            },\r\n        });\r\n    },\r\n\r\n    onClickShowerBtn: function(){  //点击洗澡按钮\r\n        console.log(\"点击洗澡\");\r\n        this._isBagShow = true;  //显示背包\r\n    },\r\n\r\n    onClickShowerTool: function(toolID){  //点击洗澡工具\r\n        let date = new Date();\r\n        let year = date.getFullYear(); //获取当前年份   \r\n        let month = date.getMonth() + 1; //获取当前月份   \r\n        let dat = date.getDate(); //获取当前日    \r\n        let hour = date.getHours(); //获取小时   \r\n        let minute = date.getMinutes(); //获取分钟   \r\n        let second = date.getSeconds(); //获取秒   \r\n        let timeStr = year + '-' + month + '-' + dat + ' ' + hour + ':' + minute + ':' + second;\r\n        var serverAddr = GlobalData.serverAddr + \"php/shower.php\";\r\n        let details = '';\r\n        $.ajax({\r\n            url: serverAddr,\r\n            type: 'POST',\r\n            dataType: json,\r\n            data: {\r\n                userID: GlobalData.userID,\r\n                operationTime: timeStr,\r\n                bathToolID: toolID,\r\n                details: details,\r\n            },\r\n            success(res) {\r\n                console.log(res);\r\n                //无需更新属性值，后台会自动更新\r\n            },\r\n        });\r\n    },\r\n\r\n    onClickDrinkBtn: function(){  //点击喝水按钮\r\n        console.log(\"点击喝水\");\r\n        let date = new Date();\r\n        let year = date.getFullYear(); //获取当前年份   \r\n        let month = date.getMonth() + 1; //获取当前月份   \r\n        let dat = date.getDate(); //获取当前日    \r\n        let hour = date.getHours(); //获取小时   \r\n        let minute = date.getMinutes(); //获取分钟   \r\n        let second = date.getSeconds(); //获取秒   \r\n        let timeStr = year + '-' + month + '-' + dat + ' ' + hour + ':' + minute + ':' + second;\r\n        var serverAddr = GlobalData.serverAddr + \"php/drink.php\";\r\n        let details = '';\r\n        $.ajax({\r\n            url: serverAddr,\r\n            type: 'POST',\r\n            dataType: json,\r\n            data: {\r\n                userID: GlobalData.userID,\r\n                operationTime: timeStr,\r\n                details: details,\r\n            },\r\n            success(res) {\r\n                console.log(res);\r\n                //无需更新属性值，后台会自动更新\r\n            },\r\n        });\r\n    },\r\n\r\n    onClickPlayBtn: function(){  //点击玩耍按钮\r\n        console.log(\"点击玩耍\");\r\n        this._isPlaySettingShow = true;  //显示玩耍子类别按钮\r\n    },\r\n\r\n    onClickSubPlayBtn: function(playID){  //点击玩耍子类别按钮\r\n        let date = new Date();\r\n        let year = date.getFullYear(); //获取当前年份   \r\n        let month = date.getMonth() + 1; //获取当前月份   \r\n        let dat = date.getDate(); //获取当前日    \r\n        let hour = date.getHours(); //获取小时   \r\n        let minute = date.getMinutes(); //获取分钟   \r\n        let second = date.getSeconds(); //获取秒   \r\n        let timeStr = year + '-' + month + '-' + dat + ' ' + hour + ':' + minute + ':' + second;\r\n        var serverAddr = GlobalData.serverAddr + \"php/play.php\";\r\n        let details = '';\r\n        $.ajax({\r\n            url: serverAddr,\r\n            type: 'POST',\r\n            dataType: json,\r\n            data: {\r\n                userID: GlobalData.userID,\r\n                operationTime: timeStr,\r\n                playID: playID,\r\n                details: details,\r\n            },\r\n            success(res) {\r\n                console.log(res);\r\n                //无需更新属性值，后台会自动更新\r\n            },\r\n        });\r\n    },\r\n\r\n    startCountDown: function(operationName, time, question, answer, picAddr){  //该函数待实现\r\n        //参数的意义：operationName表示到底是为了什么操作而进行倒计时（work或trip或sleep）\r\n        //time表示时间\r\n        //question和answer分别表示结束后问答环节的问题和答案\r\n        //picAddr表示提供的图片\r\n    },\r\n\r\n    onClickWorkBtn: function(){  //点击主界面上的打工按钮\r\n        console.log(\"点击打工\");\r\n        if(GlobalData.energy >= 50 && GlobalData.mood >= 30)\r\n        {\r\n            this._isWorkSettingShow = true;  //显示打工设置框\r\n        }\r\n        else{\r\n            let promptStr = '宠物能量值不低于50且心情值不低于30才可以去打工哟~~';\r\n            alert(promptStr);\r\n        }\r\n    },\r\n\r\n    onClickWorkTypeBtn: function(workTypeID){  //点击工种设置按钮\r\n        console.log('设置工种为：', workTypeID);\r\n        this.workTypeID = workTypeID;\r\n    },\r\n\r\n    onClickWorkTimeBtn: function(workTimeID){  //点击工时设置按钮\r\n        console.log('设置工时为：', workTimeID);\r\n        this.workTimeID = workTimeID;\r\n    },\r\n\r\n\r\n    onClickConfirmWork: function(){//完成所有设置后，点击“去打工”\r\n        console.log(\"确认打工\");\r\n        let date = new Date();\r\n        let year = date.getFullYear(); //获取当前年份   \r\n        let month = date.getMonth() + 1; //获取当前月份   \r\n        let dat = date.getDate(); //获取当前日    \r\n        let hour = date.getHours(); //获取小时   \r\n        let minute = date.getMinutes(); //获取分钟   \r\n        let second = date.getSeconds(); //获取秒   \r\n        let timeStr = year + '-' + month + '-' + dat + ' ' + hour + ':' + minute + ':' + second;\r\n        var serverAddr = GlobalData.serverAddr + \"php/work.php\";\r\n        let details = '';\r\n        let instance = this;\r\n        $.ajax({\r\n            url: serverAddr,\r\n            type: 'POST',\r\n            dataType: json,\r\n            data: {\r\n                userID: GlobalData.userID,\r\n                operationTime: timeStr,\r\n                workTimeID: instance.workTimeID,\r\n                workTypeID: instance.workTypeID,\r\n                details: details,\r\n            },\r\n            success(res) {\r\n                console.log(res);\r\n                //无需更新属性值，后台会自动更新，但可以根据这些属性值对用户做出提示\r\n                instance.startCountDown('work', instance.timeIndex[instance.workTimeID], res.question, res.answer, res.picAddr); \r\n            },\r\n        });\r\n        \r\n    },\r\n\r\n    onClickTripBtn: function(){  //点击主界面上的旅游按钮\r\n        console.log(\"点击旅游\");\r\n        if(GlobalData.energy >= 50)\r\n        {\r\n            this._isTripSettingShow = true;  //显示旅游设置框\r\n        }\r\n        else{\r\n            let promptStr = '宠物能量值不低于50才可以去旅游哟~~';\r\n            alert(promptStr);\r\n        }\r\n    },\r\n\r\n    onClickTripLocBtn: function(tripLocID){  //点击旅游地点设置按钮\r\n        console.log('设置旅游地点为：', tripLocID);\r\n        this.tripLocID = tripLocID;\r\n    },\r\n\r\n    onClickTripTimeBtn: function(tripTimeID){  //点击旅游时间设置按钮\r\n        console.log('设置旅游时间为：', tripTimeID);\r\n        this.tripTimeID = tripTimeID;\r\n    },\r\n    \r\n    onClickConfirmTrip: function(){//完成所有设置后，点击“去旅游”\r\n        let date = new Date();\r\n        let year = date.getFullYear(); //获取当前年份   \r\n        let month = date.getMonth() + 1; //获取当前月份   \r\n        let dat = date.getDate(); //获取当前日    \r\n        let hour = date.getHours(); //获取小时   \r\n        let minute = date.getMinutes(); //获取分钟   \r\n        let second = date.getSeconds(); //获取秒   \r\n        let timeStr = year + '-' + month + '-' + dat + ' ' + hour + ':' + minute + ':' + second;\r\n        var serverAddr = GlobalData.serverAddr + \"php/trip.php\";\r\n        let details = '';\r\n        let instance = this;\r\n        $.ajax({\r\n            url: serverAddr,\r\n            type: 'POST',\r\n            dataType: json,\r\n            data: {\r\n                userID: GlobalData.userID,\r\n                operationTime: timeStr,\r\n                tripTimeID: instance.tripTimeID,\r\n                tripLocID: instance.tripLocID,\r\n                details: details,\r\n            },\r\n            success(res) {\r\n                console.log(res);\r\n                //无需更新属性值，后台会自动更新，但可以根据这些属性值对用户做出提示\r\n                instance.startCountDown('trip', instance.timeIndex[instance.tripTimeID], res.question, res.answer, res.picAddr); \r\n            },\r\n        });\r\n        \r\n    },\r\n\r\n    onClickSleepBtn: function(){  //点击主界面上的睡觉按钮\r\n        console.log(\"点击睡觉\");\r\n        this._isSleepSettingShow = true;  //显示睡觉设置框\r\n    },\r\n\r\n    onClickSleepTimeBtn: function(sleepTimeID){  //点击睡觉时间设置按钮\r\n        console.log('设置睡觉时间为：', sleepTimeID);\r\n        this.sleepTimeID = sleepTimeID;\r\n    },\r\n    \r\n    onClickConfirmSleep: function(){//完成所有设置后，点击“去睡觉”\r\n        let date = new Date();\r\n        let year = date.getFullYear(); //获取当前年份   \r\n        let month = date.getMonth() + 1; //获取当前月份   \r\n        let dat = date.getDate(); //获取当前日    \r\n        let hour = date.getHours(); //获取小时   \r\n        let minute = date.getMinutes(); //获取分钟   \r\n        let second = date.getSeconds(); //获取秒   \r\n        let timeStr = year + '-' + month + '-' + dat + ' ' + hour + ':' + minute + ':' + second;\r\n        var serverAddr = GlobalData.serverAddr + \"php/sleep.php\";\r\n        let details = '';\r\n        let instance = this;\r\n        $.ajax({\r\n            url: serverAddr,\r\n            type: 'POST',\r\n            dataType: json,\r\n            data: {\r\n                userID: GlobalData.userID,\r\n                operationTime: timeStr,\r\n                sleepTimeID: instance.sleepTimeID,\r\n                details: details,\r\n            },\r\n            success(res) {\r\n                console.log(res);\r\n                //无需更新属性值，后台会自动更新，但可以根据这些属性值对用户做出提示\r\n                instance.startCountDown('sleep', instance.timeIndex[instance.sleepTimeID], null, null, null); \r\n            },\r\n        });\r\n        \r\n    },\r\n\r\n    onClickHomeBtn: function(){  //跳转到小屋界面\r\n        this.exit();\r\n        cc.director.loadScene('home');\r\n    },\r\n\r\n    onClickSettingBtn: function(){  //跳转到设置界面\r\n        this.exit();\r\n        cc.director.loadScene('setting');\r\n    },\r\n\r\n    onClickShopBtn: function(){  //跳转到商店界面  P.S.这个按钮应该在两个地方都有出现：主界面and背包框\r\n        this.exit();\r\n        cc.director.loadScene('shop');\r\n    },\r\n\r\n    onClickUserInfoBtn: function(){  //跳转到个人信息界面\r\n        this.exit();\r\n        cc.director.loadScene('userInfo');\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}